<ng-container *ngTemplateOutlet="imageTools"></ng-container>
<ng-container *ngTemplateOutlet="navigation"></ng-container>
<ng-container *ngTemplateOutlet="views"></ng-container>
<ng-container *ngTemplateOutlet="prefatoryMatter"></ng-container>
<ng-container *ngTemplateOutlet="search"></ng-container>
<ng-container *ngTemplateOutlet="viscoll"></ng-container>
<ng-container *ngTemplateOutlet="poetry"></ng-container>
<ng-container *ngTemplateOutlet="listsNE"></ng-container>

<ng-template #imageTools>
  <app-card [title]="'imageTools'" class="mb-3 d-block">
    <div content>
      <app-form-group [description]="'imageToolsDesc'">
        <div class="form-check pl-0" content>
          <input class="inline-label" type="checkbox" id="txtimg_link_button" [checked]="configs.txtimg_link_button"
            [(ngModel)]="configs.txtimg_link_button" name="txtimg_link_button" (change)="updateValueCheckbox($event)" />
          <label class="col-form-label-sm form-check-label ml-3"
            for="txtimg_link_button">{{'txtimgLinkButton' | translate }}</label>
        </div>
        <div class="form-check pl-0" content>
          <input class="inline-label" type="checkbox" id="hs_button" [checked]="configs.hs_button"
            [(ngModel)]="configs.hs_button" name="hs_button" (change)="updateValueCheckbox($event)" />
          <label class="col-form-label-sm form-check-label ml-3" for="hs_button">{{'hsButton' | translate }}</label>
        </div>
        <div class="form-check pl-0" content>
          <input class="inline-label" type="checkbox" id="mag_button" [checked]="configs.mag_button"
            [(ngModel)]="configs.mag_button" name="mag_button" (change)="updateValueCheckbox($event)" />
          <label class="col-form-label-sm form-check-label ml-3" for="mag_button">{{'magButton' | translate }}</label>
        </div>
      </app-form-group>
    </div>
  </app-card>
</ng-template>

<ng-template #navigation>
  <app-card [title]="'navigation'" class="mb-3 d-block">
    <app-form-group content [description]="'navigationDesc'">
      <div class="form-check pl-0" content>
        <input class="inline-label" type="checkbox" id="thumbs_button" [checked]="configs.thumbs_button"
          [(ngModel)]="configs.thumbs_button" name="thumbs_button" (change)="updateValueCheckbox($event)" />
        <label class="col-form-label-sm form-check-label ml-3"
          for="thumbs_button">{{'thumbsButton' | translate }}</label>
      </div>
      <div class="form-check pl-0" content>
        <input class="inline-label" type="checkbox" id="pp_selector_doc_grouping"
          [checked]="configs.pp_selector_doc_grouping" [(ngModel)]="configs.pp_selector_doc_grouping"
          name="pp_selector_doc_grouping" (change)="updateValueCheckbox($event)" />
        <label class="col-form-label-sm form-check-label ml-3"
          for="pp_selector_doc_grouping">{{'ppSelectorDocGrouping' | translate }}</label>
      </div>
      <div class="form-check pl-0" content>
        <input class="inline-label" type="checkbox" id="pp_selector_doc_tooltip"
          [checked]="configs.pp_selector_doc_tooltip" [(ngModel)]="configs.pp_selector_doc_tooltip"
          name="pp_selector_doc_tooltip" (change)="updateValueCheckbox($event)" />
        <label class="col-form-label-sm form-check-label ml-3"
          for="pp_selector_doc_tooltip">{{'ppSelectorDocTooltip' | translate }}</label>
      </div>
      <div class="form-check pl-0" content>
        <input class="inline-label" type="checkbox" id="document_navigation" [checked]="configs.document_navigation"
          [(ngModel)]="configs.document_navigation" name="document_navigation" (change)="updateValueCheckbox($event)" />
        <label class="col-form-label-sm form-check-label ml-3"
          for="document_navigation">{{'documentNavigation' | translate }}</label>
      </div>
      <div class="form-check pl-0" content>
        <label class="col-form-label-sm form-check-label mr-3"
          for="pp_selector_pos">{{'ppSelectorPos' | translate }}</label>
        <div class="btn-group btn-group-toggle" ngbRadioGroup name="pp_selector_pos"
          [(ngModel)]="configs.pp_selector_pos">
          <label ngbButtonLabel class="btn-sm btn-primary">
            <input ngbButton type="radio" value="left" (change)="updateValue($event)">
            {{'onImageFrame' | translate}}
          </label>
          <label ngbButtonLabel class="btn-sm btn-primary">
            <input ngbButton type="radio" value="right" (change)="updateValue($event)">
            {{'onTextFrame' | translate}}
          </label>
        </div>
      </div>
      <div class="form-check pl-0" content>
        <input class="inline-label" type="checkbox" id="bottom_navbar" [checked]="configs.bottom_navbar"
          [(ngModel)]="configs.bottom_navbar" name="bottom_navbar" (change)="updateValueCheckbox($event)" />
        <label class="col-form-label-sm form-check-label ml-3"
          for="bottom_navbar">{{'bottomNavbar' | translate }}</label>
      </div>
      <div class="form-check pl-0" content *ngIf="configs.bottom_navbar">
        <label class="col-form-label-sm form-check-label mr-3"
          for="bottom_navbar_initial_status">{{'bottomNavbarInitialStatus' | translate }}</label>
        <div class="btn-group btn-group-toggle" ngbRadioGroup name="bottom_navbar_initial_status"
          [(ngModel)]="configs.bottom_navbar_initial_status">
          <label ngbButtonLabel class="btn-sm btn-primary">
            <input ngbButton type="radio" value="closed" (change)="updateValue($event)">
            {{'closed' | translate}}
          </label>
          <label ngbButtonLabel class="btn-sm btn-primary">
            <input ngbButton type="radio" value="opened" (change)="updateValue($event)">
            {{'opened' | translate}}
          </label>
        </div>
      </div>
    </app-form-group>
  </app-card>
</ng-template>

<ng-template #views>
  <app-card [title]="'views'" class="mb-3 d-block">
    <div content>
      <app-form-group [description]="'viewsDesc'">
        <div class="form-check pl-0" content>
          <input class="inline-label" type="checkbox" id="image_frame" [checked]="configs.image_frame"
            [(ngModel)]="configs.image_frame" name="image_frame" (change)="updateValueCheckbox($event)" />
          <label class="col-form-label-sm form-check-label ml-3" for="image_frame">{{'imageFrame' | translate }}</label>
        </div>
        <div class="form-check pl-0" content>
          <input class="inline-label" type="checkbox" id="double_view" [checked]="configs.double_view"
            [(ngModel)]="configs.double_view" name="double_view" (change)="updateValueCheckbox($event)" />
          <label class="col-form-label-sm form-check-label ml-3" for="double_view">{{'bookReader' | translate }}</label>
        </div>
      </app-form-group>
      <app-form-group [description]="'defaultLeftFrameDesc'">
        <div class="form-check pl-0" content>
          <div class="btn-group btn-group-toggle" ngbRadioGroup name="left_frame_default_content"
            [(ngModel)]="configs.left_frame_default_content">
            <label ngbButtonLabel class="btn-sm btn-primary">
              <input ngbButton type="radio" value="image" (change)="updateValue($event)">
              {{'image' | translate}}
            </label>
            <label ngbButtonLabel class="btn-sm btn-primary">
              <input ngbButton type="radio" value="info" (change)="updateValue($event)">
              {{'manuscriptInfo' | translate}}
            </label>
          </div>
        </div>
      </app-form-group>
      <app-form-group [description]="'defaultRightFrameDesc'">
        <div class="form-check pl-0" content>
          <div class="btn-group btn-group-toggle" ngbRadioGroup name="right_frame_default_content"
            [(ngModel)]="configs.right_frame_default_content">
            <label ngbButtonLabel class="btn-sm btn-primary">
              <input ngbButton type="radio" value="text" (change)="updateValue($event)">
              {{'editionText' | translate}}
            </label>
            <label ngbButtonLabel class="btn-sm btn-primary">
              <input ngbButton type="radio" value="info" (change)="updateValue($event)">
              {{'frontInfo' | translate}}
            </label>
          </div>
        </div>
      </app-form-group>
    </div>
  </app-card>
</ng-template>

<ng-template #prefatoryMatter>
  <app-card [title]="'prefatoryMatter'" class="mb-3 d-block">
    <div content>
      <app-form-group [description]="'prefatoryMatterDesc'">
        <div content>
          <div class="form-check pl-0">
            <input class="inline-label" type="checkbox" id="headerInfo" [checked]="configs.headerInfo"
              [(ngModel)]="configs.headerInfo" name="headerInfo" (change)="updateValueCheckbox($event)" />
            <label class="col-form-label-sm form-check-label ml-3"
              for="headerInfo">{{'headerInfo' | translate }}</label>
          </div>
          <div class="form-check pl-0">
            <input class="inline-label" type="checkbox" id="bibliography" [checked]="configs.bibliography"
              [(ngModel)]="configs.bibliography" name="bibliography" (change)="updateValueCheckbox($event)" />
            <label class="col-form-label-sm form-check-label ml-3"
              for="bibliography">{{'bibliography' | translate }}</label>
          </div>
          <div class="form-check pl-0">
            <input class="inline-label" type="checkbox" id="msDesc" [checked]="configs.msDesc"
              [(ngModel)]="configs.msDesc" name="msDesc" (change)="updateValueCheckbox($event)" />
            <label class="col-form-label-sm form-check-label ml-3" for="msDesc">{{'msDesc' | translate }}</label>
          </div>
          <div class="form-check pl-0">
            <input class="inline-label" type="checkbox" id="textPrefatoryMatter"
              [checked]="supportConfig.textPrefatoryMatter" [(ngModel)]="supportConfig.textPrefatoryMatter"
              name="textPrefatoryMatter" (change)="updatePrefatoryMatterConfigs()" />
            <label class="col-form-label-sm form-check-label ml-3"
              for="textPrefatoryMatter">{{'textPrefatoryMatter' | translate }}</label>
          </div>
        </div>
      </app-form-group>
      <app-form-group [description]="'textPrefatoryMatterDesc'" *ngIf="supportConfig.textPrefatoryMatter">
        <div class="form-check pl-0" content>
          <div class="btn-group btn-group-toggle ml-3" ngbRadioGroup name="textPrefatoryMatterType"
            [(ngModel)]="supportConfig.textPrefatoryMatterType">
            <label ngbButtonLabel class="btn-sm btn-primary">
              <input ngbButton type="radio" value="front" (change)="updatePrefatoryMatterConfigs()">
              {{'frontInfo' | translate}}
            </label>
            <label ngbButtonLabel class="btn-sm btn-primary">
              <input ngbButton type="radio" value="regesto" (change)="updatePrefatoryMatterConfigs()">
              {{'regesto' | translate}}
            </label>
          </div>
        </div>
      </app-form-group>
    </div>
  </app-card>
</ng-template>

<ng-template #search>
  <app-card [title]="'search'" class="mb-3 d-block">
    <div content>
      <app-form-group [description]="'searchDesc'">
        <div class="form-check pl-0" content>
          <input class="inline-label" type="checkbox" id="search" [checked]="configs.search"
            [(ngModel)]="configs.search" name="search" (change)="updateValueCheckbox($event)" />
          <label class="col-form-label-sm form-check-label ml-3" for="search">{{'searchEngine' | translate }}</label>
        </div>
        <div class="form-check pl-0" content>
          <input class="inline-label" type="checkbox" id="virtual_keyboard_search"
            [checked]="configs.virtual_keyboard_search" [(ngModel)]="configs.virtual_keyboard_search"
            name="virtual_keyboard_search" (change)="updateValueCheckbox($event)" />
          <label class="col-form-label-sm form-check-label ml-3"
            for="virtual_keyboard_search">{{'virtualKeyboardSearch' | translate }}</label>
          <small class="mb-3 d-block text-muted">
            <strong>{{ 'warning' | translate }}!</strong> {{ 'virtualKeyboardSearch_warning' | translate }}
            <code>config/keyboard_config.xml</code>
          </small>
        </div>
      </app-form-group>
    </div>
  </app-card>
</ng-template>

<ng-template #viscoll>
  <app-card [title]="'viscoll'" class="mb-3 d-block">
    <div content>
      <app-form-group [description]="'viscollDesc'">
        <div class="form-check pl-0" content>
          <input class="inline-label" type="checkbox" id="viscoll" [checked]="configs.viscoll_button"
            [(ngModel)]="configs.viscoll_button" name="viscoll" (change)="updateValueCheckbox($event)" />
          <label class="col-form-label-sm form-check-label ml-3" for="viscoll">{{'viscollEnabled' | translate }}</label>
        </div>
        <div content *ngIf="configs.viscoll_button">
          <small class="form-text text-muted"><strong>{{'warning' | translate}}!</strong></small>
          <small class="form-text text-muted mb-2"
            [innerHTML]="'viscollInstructions' | translate:{link: 'https://github.com/leoba/VisColl', collationLink: 'http://138.197.87.173:8080/xproc-z/visualize-collation/'}"></small>
        </div>
      </app-form-group>
      <app-form-group *ngIf="configs.viscoll_button" [title]="'viscollSchemePath'"
        [description]="'viscollSchemePathDesc'">
        <input class="form-control form-control-sm" [placeholder]="'insertPathHere' | translate"
          name="viscoll_scheme_path" [(ngModel)]="configs.viscoll_scheme_path" (keyup)="updateValue($event)" content>
      </app-form-group>
      <app-form-group *ngIf="configs.viscoll_button" [title]="'viscollImageListPath'"
        [description]="'viscollImageListPathDesc'">
        <input class="form-control form-control-sm" [placeholder]="'insertPathHere' | translate"
          name="viscoll_image_list_path" [(ngModel)]="configs.viscoll_image_list_path" (keyup)="updateValue($event)"
          content>
      </app-form-group>
    </div>
  </app-card>
</ng-template>

<ng-template #poetry>
  <app-card [title]="'poetry'" class="mb-3 d-block">
    <div content>
      <app-form-group [description]="'poetryDesc'">
        <div class="form-check pl-0" content>
          <input class="inline-label" type="checkbox" id="prose_verses_toggler" [checked]="configs.prose_verses_toggler"
            [(ngModel)]="configs.prose_verses_toggler" name="prose_verses_toggler"
            (change)="updateValueCheckbox($event)" />
          <label class="col-form-label-sm form-check-label ml-3"
            for="prose_verses_toggler">{{'proseVersesToggler' | translate }}</label>
        </div>
      </app-form-group>
    </div>
  </app-card>
</ng-template>


<ng-template #listsNE>
  <app-card [title]="'listsNE'" class="mb-3 d-block">
    <div content>
      <app-form-group [title]="'namedEntitiesLists'" [description]="'listsNEDesc'">
        <div class="form-check pl-0" content>
          <input class="inline-label" type="checkbox" id="list_person" [checked]="configs.list_person"
            [(ngModel)]="configs.list_person" name="list_person" (change)="updateValueCheckbox($event)" />
          <label class="col-form-label-sm form-check-label ml-3" for="list_person">{{'listPerson' | translate }}</label>
        </div>
        <div class="form-check pl-0" content>
          <input class="inline-label" type="checkbox" id="list_place" [checked]="configs.list_place"
            [(ngModel)]="configs.list_place" name="list_place" (change)="updateValueCheckbox($event)" />
          <label class="col-form-label-sm form-check-label ml-3" for="list_place">{{'listPlace' | translate }}</label>
        </div>
        <div class="form-check pl-0" content>
          <input class="inline-label" type="checkbox" id="list_org" [checked]="configs.list_org"
            [(ngModel)]="configs.list_org" name="list_org" (change)="updateValueCheckbox($event)" />
          <label class="col-form-label-sm form-check-label ml-3" for="list_org">{{'listOrg' | translate }}</label>
        </div>
        <div class="form-check pl-0" content>
          <input class="inline-label" type="checkbox" id="list_doc" [checked]="configs.list_doc"
            [(ngModel)]="configs.list_doc" name="list_doc" (change)="updateValueCheckbox($event)" />
          <label class="col-form-label-sm form-check-label ml-3" for="list_doc">{{'listDoc' | translate }}</label>
        </div>
        <div class="form-check pl-0" content>
          <input class="inline-label" type="checkbox" id="list_term" [checked]="configs.list_term"
            [(ngModel)]="configs.list_term" name="list_term" (change)="updateValueCheckbox($event)" />
          <label class="col-form-label-sm form-check-label ml-3" for="list_term">{{'listTerm' | translate }}</label>
        </div>
        <div class="form-check pl-0" content>
          <input class="inline-label" type="checkbox" id="list_gloss" [checked]="configs.list_gloss"
            [(ngModel)]="configs.list_gloss" name="list_gloss" (change)="updateValueCheckbox($event)" />
          <label class="col-form-label-sm form-check-label ml-3" for="list_gloss">{{'listGloss' | translate }}</label>
        </div>
      </app-form-group>
      <app-form-group [title]="'entitiesSelector'" [description]="'entitiesSelectorDesc'">
        <div class="form-check pl-0" content>
          <ngb-accordion #a="ngbAccordion" class="listsConfigs" activeIds="list_0">
            <ngb-panel id="list_{{index}}" *ngFor="let list of configs.lists; let index = index">
              <ng-template ngbPanelHeader let-opened="opened">
                <div class="input-group input-group-sm list-header" [class.disabled]="!list.active">
                  <div class="input-group-prepend">
                    <button class="btn btn-primary list-toggler" type="button" ngbPanelToggle 
                    [class.btn-secondary]="!list.active">
                      <fa-icon [icon]="opened ? 'caret-down' : 'caret-right'"></fa-icon>
                    </button>
                    <div class="input-group-text">
                      <input type="checkbox" [checked]="list.active" [(ngModel)]="list.active"
                        [title]="list.active ? 'disable': 'enable' | translate">
                    </div>
                  </div>
                  <input class="form-control" [placeholder]="'insertGroupLabelHere' | translate"
                    [disabled]="!list.active" [(ngModel)]="list.groupLabel">
                </div>
              </ng-template>
              <ng-template ngbPanelContent>
                <div class="list-details-container" [class.disabled]="!list.active">
                  <div *ngFor="let item of list.items" class="input-group input-group-sm mb-2 list-detail">
                    <div class="input-group-prepend">
                      <div class="input-group-text">
                        <input type="checkbox" [checked]="item.active" [disabled]="!list.active" [(ngModel)]="item.active"
                          [title]="item.active ? 'disable': 'enable' | translate">
                      </div>
                    </div>
                    <input type="text" class="form-control" [placeholder]="'insertTagNameHere' | translate"
                      [(ngModel)]="item.tag" [disabled]="!item.active || !list.active">
                    <div class="input-group-append">
                      <button class="btn btn-outline-primary" type="button" *ngIf="item.attributes.length === 0">
                        <fa-icon [icon]="'plus'" class="mr-2"></fa-icon>{{'setAttributes' | translate}}
                      </button>
                    </div>
                  </div>
                </div>
              </ng-template>
            </ngb-panel>
          </ngb-accordion>
        </div>
      </app-form-group>
    </div>
  </app-card>
</ng-template>